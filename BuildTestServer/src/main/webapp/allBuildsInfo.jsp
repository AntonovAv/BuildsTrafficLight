<%@ page import="java.util.regex.Pattern" %>
<%@ page import="java.util.regex.Matcher" %>
<%
    String requestURI =  request.getRequestURI();
    boolean isListOfIds = !requestURI.contains("id:");
%>

<%if (isListOfIds) {%>
{"count":19,"href":"/guestAuth/app/rest/buildTypes/","buildType":[{"id":"actiTIME_40_b","name":"4_0 B","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_b","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_40_b"},{"id":"actiTIME_40_Online","name":"4_0 Online","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Online","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_40_Online"},{"id":"actiTIME_40_Pro","name":"4_0 Pro","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Pro","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_40_Pro"},{"id":"actiTIME_Cirdi20152s18Online","name":"CIRDI (2015.2, s18) Online","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Cirdi20152s18Online","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Cirdi20152s18Online"},{"id":"actiTIME_CirdiPro","name":"CIRDI Pro","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_CirdiPro","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_CirdiPro"},{"id":"actiTIME_Sprint_17_b","name":"Sprint 17 (2015.1) B","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint_17_b","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint_17_b"},{"id":"actiTIME_Sprint17_Demo","name":"Sprint 17 (2015.1) Demo","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint17_Demo","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint17_Demo"},{"id":"actiTIME_Sprint17_Online","name":"Sprint 17 (2015.1) Online","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint17_Online","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint17_Online"},{"id":"actiTIME_Sprint17_Pro","name":"Sprint 17 (2015.1) Pro","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint17_Pro","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint17_Pro"},{"id":"actiTIME_Sprint17_ste","name":"Sprint 17 (2015.1) STE","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint17_ste","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint17_ste"},{"id":"actiTIME_Sprint18Demo","name":"Sprint 18 Demo","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint18Demo","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint18Demo"},{"id":"actiTIME_Sprint_18_Online","name":"Sprint 18 Online","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint_18_Online","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint_18_Online"},{"id":"actiTIME_Sprint_18_Pro","name":"Sprint 18 Pro","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint_18_Pro","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint_18_Pro"},{"id":"actiTIME_Sprint22Pro","name":"Sprint 22 Pro","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint22Pro","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint22Pro"},{"id":"actiTIME_Sprint2320152b","name":"Sprint 23 (2015.2) B","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint2320152b","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint2320152b"},{"id":"actiTIME_Sprint2320152Demo","name":"Sprint 23 (2015.2) Demo","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint2320152Demo","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint2320152Demo"},{"id":"actiTIME_Sprint2320152Online","name":"Sprint 23 (2015.2) Online","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint2320152Online","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint2320152Online"},{"id":"actiTIME_Sprint_23_Pro","name":"Sprint 23 (2015.2) Pro","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint_23_Pro","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint_23_Pro"},{"id":"actiTIME_Sprint2320152ste","name":"Sprint 23 (2015.2) STE","projectName":"actiTIME","projectId":"actiTIME","href":"/guestAuth/app/rest/buildTypes/id:actiTIME_Sprint2320152ste","webUrl":"http://rdbuild/viewType.html?buildTypeId=actiTIME_Sprint2320152ste"}]}
<%} else {%>

<%
    Pattern pattern = Pattern.compile("/guestAuth/app/rest/buildTypes/id:(.*)/builds/*");
    Matcher matcher = pattern.matcher(requestURI);
    String id = "";
    if(matcher.find())
    {
        id = matcher.group(1);
    }
%>

<%if ("actiTIME_40_Online".equals(id)) {%>
{"count":2,"href":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Pro/builds/?locator=count:2,running:any","nextHref":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Pro/builds/?locator=count:2,start:2,running:any","build":[{"id":3119,"buildTypeId":"actiTIME_40_Pro","number":"4_0_Pro_1286","status":"FAILURE","state":"finished","running":true,"percentageComplete":13,"href":"/guestAuth/app/rest/builds/id:3119","webUrl":"http://rdbuild/viewLog.html?buildId=3119&buildTypeId=actiTIME_40_Pro"},{"id":3118,"buildTypeId":"actiTIME_40_Pro","number":"4_0_Pro_1285","status":"FAILURE","state":"finished","href":"/guestAuth/app/rest/builds/id:3118","webUrl":"http://rdbuild/viewLog.html?buildId=3118&buildTypeId=actiTIME_40_Pro"}]}
<%} else {%>
<%if ("actiTIME_40_b".equals(id)) {%>
{"count":2,"href":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Pro/builds/?locator=count:2,running:any","nextHref":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Pro/builds/?locator=count:2,start:2,running:any","build":[{"id":3033,"buildTypeId":"actiTIME_40_Pro","number":"4_0_Pro_1220","status":"SUCCESS","state":"finished","running":true,"percentageComplete":11,"href":"/guestAuth/app/rest/builds/id:3033","webUrl":"http://rdbuild/viewLog.html?buildId=3033&buildTypeId=actiTIME_40_Pro"},{"id":3032,"buildTypeId":"actiTIME_40_Pro","number":"4_0_Pro_1219","status":"FAILURE","state":"finished","href":"/guestAuth/app/rest/builds/id:3032","webUrl":"http://rdbuild/viewLog.html?buildId=3032&buildTypeId=actiTIME_40_Pro"}]}
<%} else if ("actiTIME_Sprint_18_Online".equals(id)) {%>
{"count":2,"href":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Pro/builds/?locator=count:2,running:any","nextHref":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Pro/builds/?locator=count:2,start:2,running:any","build":[{"id":3040,"buildTypeId":"actiTIME_40_Pro","number":"4_0_Pro_1227","status":"SUCCESS","state":"finished","href":"/guestAuth/app/rest/builds/id:3040","webUrl":"http://rdbuild/viewLog.html?buildId=3040&buildTypeId=actiTIME_40_Pro"},{"id":3039,"buildTypeId":"actiTIME_40_Pro","number":"4_0_Pro_1226","status":"FAILURE","state":"finished","href":"/guestAuth/app/rest/builds/id:3039","webUrl":"http://rdbuild/viewLog.html?buildId=3039&buildTypeId=actiTIME_40_Pro"}]}
<%} else {%>
<%--
{"count":2,"href":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Pro/builds/?locator=count:2,running:any","nextHref":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Pro/builds/?locator=count:2,start:2,running:any","build":[{"id":3119,"buildTypeId":"actiTIME_40_Pro","number":"4_0_Pro_1286","status":"SUCCESS","state":"running","running":true,"percentageComplete":13,"href":"/guestAuth/app/rest/builds/id:3119","webUrl":"http://rdbuild/viewLog.html?buildId=3119&buildTypeId=actiTIME_40_Pro"},{"id":3118,"buildTypeId":"actiTIME_40_Pro","number":"4_0_Pro_1285","status":"SUCCESS","state":"finished","href":"/guestAuth/app/rest/builds/id:3118","webUrl":"http://rdbuild/viewLog.html?buildId=3118&buildTypeId=actiTIME_40_Pro"}]}
--%>

{"count":1,"href":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Pro/builds/?locator=count:2,running:any","nextHref":"/guestAuth/app/rest/buildTypes/id:actiTIME_40_Pro/builds/?locator=count:2,start:2,running:any","build":[{"id":3119,"buildTypeId":"actiTIME_40_Pro","number":"4_0_Pro_1286","status":"SUCCESS","state":"running","running":true,"percentageComplete":13,"href":"/guestAuth/app/rest/builds/id:3119","webUrl":"http://rdbuild/viewLog.html?buildId=3119&buildTypeId=actiTIME_40_Pro"}
<%
        }
    }
%>

<%}%>